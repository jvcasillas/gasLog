<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Gas Log</title>

<script src="site_libs/jquery-1.12.4/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-1.1/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-1.1/highlight.js"></script>
<script src="site_libs/htmlwidgets-0.8/htmlwidgets.js"></script>
<script src="site_libs/datatables-binding-0.2/datatables.js"></script>
<link href="site_libs/dt-core-1.10.12/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="site_libs/dt-core-1.10.12/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="site_libs/dt-core-1.10.12/js/jquery.dataTables.min.js"></script>
<link href="site_libs/leaflet-0.7.7/leaflet.css" rel="stylesheet" />
<script src="site_libs/leaflet-0.7.7/leaflet.js"></script>
<link href="site_libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<link href="site_libs/leaflet-label-0.2.2/leaflet.label.css" rel="stylesheet" />
<script src="site_libs/leaflet-label-0.2.2/leaflet.label.js"></script>
<script src="site_libs/Proj4Leaflet-0.7.2/proj4-compressed.js"></script>
<script src="site_libs/Proj4Leaflet-0.7.2/proj4leaflet.js"></script>
<script src="site_libs/leaflet-binding-1.1.0/leaflet.js"></script>
<link href="site_libs/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 66px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 71px;
  margin-top: -71px;
}

.section h2 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h3 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h4 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h5 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h6 {
  padding-top: 71px;
  margin-top: -71px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Gas Log</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    home
  </a>
</li>
<li>
  <a href="about.html">
    <span class="fa fa-search"></span>
     
    about
  </a>
</li>
<li>
  <a href="form.html">
    <span class="fa fa-puzzle-piece"></span>
     
    form
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="mailto:joseph.casillas@rutgers.edu">
    <span class="glyphicon glyphicon-envelope"></span>
     
  </a>
</li>
<li>
  <a href="http://twitter.com/jvcasill/">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="http://github.com/jvcasillas/">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Gas Log</h1>

</div>


<pre class="r"><code>library(googlesheets); library(tidyverse); library(DT)
library(leaflet); library(RCurl); library(lubridate)
library(ggmap)</code></pre>
<pre class="r"><code>gLog &lt;- read_csv(&quot;./data/gas_log_data.csv&quot;)</code></pre>
<pre class="r"><code># check data frame
glimpse(gLog)</code></pre>
<pre><code>## Observations: 79
## Variables: 14
## $ Timestamp        &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N...
## $ date             &lt;date&gt; 2015-06-13, 2015-07-25, 2015-07-24, 2015-07-...
## $ time             &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N...
## $ location         &lt;chr&gt; &quot;CIRCLE K 02939 TUCSON, AZ&quot;, &quot;Mobil, 220 Cour...
## $ Latitude         &lt;dbl&gt; 32.23647, 44.00272, 44.01214, 44.00272, 44.01...
## $ Longitude        &lt;dbl&gt; -110.92486, -73.15563, -73.16429, -73.15563, ...
## $ milesDrivenTank  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N...
## $ milesDrivenTotal &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N...
## $ pricePerGallon   &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N...
## $ gallonsPurchased &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N...
## $ totalPrice       &lt;dbl&gt; 3.79, 6.42, 45.56, 18.12, 30.00, 4.19, 17.10,...
## $ monthNum         &lt;int&gt; 6, 7, 7, 7, 8, 8, 8, 8, 12, 1, 2, 3, 3, 4, 4,...
## $ monthName        &lt;chr&gt; &quot;june&quot;, &quot;july&quot;, &quot;july&quot;, &quot;july&quot;, &quot;aug&quot;, &quot;aug&quot;,...
## $ year             &lt;int&gt; 2015, 2015, 2015, 2015, 2015, 2015, 2015, 201...</code></pre>
<pre class="r"><code>#gLog %&gt;% 
#   datatable(callback = JS(&quot;return table;&quot;))

gLog %&gt;% 
    select(., date, location, milesDrivenTank:totalPrice) %&gt;%
    datatable(.)</code></pre>
<div id="htmlwidget-5b46a55bff34c56727a4" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-5b46a55bff34c56727a4">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79"],["2015-06-13","2015-07-25","2015-07-24","2015-07-11","2015-08-20","2015-08-15","2015-08-13","2015-08-01","2015-12-29","2016-01-29","2016-02-14","2016-03-30","2016-03-04","2016-04-25","2016-04-20","2016-05-28","2016-05-20","2016-05-04","2016-06-26","2016-06-17","2016-06-14","2016-06-13","2016-06-12","2016-06-07","2016-06-04","2016-07-29","2016-07-26","2016-08-17","2016-08-15","2016-08-15","2016-08-15","2016-08-12","2016-08-12","2016-08-12","2016-08-11","2016-08-10","2016-08-10","2016-08-10","2016-08-10","2016-08-09","2016-08-09","2016-08-08","2016-08-08","2016-08-08","2016-09-26","2016-09-15","2016-09-02","2016-10-24","2016-10-14","2016-11-28","2016-11-14","2016-11-02","2016-12-23","2016-12-12","2017-01-27","2017-01-13","2017-01-03","2017-02-20","2017-02-16","2017-02-06","2017-03-30","2017-03-20","2017-03-10","2017-03-01","2017-04-23","2017-04-21","2017-04-10","2017-05-05","2017-03-29","2017-04-09","2016-10-21","2017-05-18","2017-05-20","2017-05-21","2017-05-21","2017-02-28","2017-03-09","2017-05-28","2017-06-03"],["CIRCLE K 02939 TUCSON, AZ","Mobil, 220 Court St, Middlebury, VT 05753","Shell, 25 Court St, Middlebury, VT 05753","Mobil, 220 Court St, Middlebury, VT 05753","Shell, 25 Court St, Middlebury, VT 05753","EXXON MOBIL 97422554 NORTH HAVEN, CT","Mobil, 220 Court St, Middlebury, VT 05753","Mobil, 220 Court St, Middlebury, VT 05753","Shell, 2577 Casa Blanca Rd, Bapchule, AZ 85121","QT 1454 91014548 TUCSON, AZ","CIRCLE K 01985 TUCSON, AZ","SAFEWAY FUEL 10016848 TUCSON, AZ","CIRCLE K 02928 ORACLE, AZ","Shell, 2577 Casa Blanca Rd, Bapchule, AZ 85121","Shell, 4301 E Broadway Blvd, Tucson, AZ 85711","Shell, 4301 E Broadway Blvd, Tucson, AZ 85711","Shell, 4301 E Broadway Blvd, Tucson, AZ 85711","QUIK MART FUEL TUCSON, AZ","SAFEWAY FUEL 10016848 TUCSON, AZ","SHELL OIL PICACHO, AZ","SHELL OIL KINGMAN, AZ","TEXACO 0356205 TUSAYAN, AZ","Shell, 4301 E Broadway Blvd, Tucson, AZ 85711","Shell, 4301 E Broadway Blvd, Tucson, AZ 85711","Shell, 4301 E Broadway Blvd, Tucson, AZ 85711","CIRCLE K 02939 TUCSON, AZ","QT 1452 91014522 TUCSON, AZ","LUKOIL 57237 HIGHLAND PARK, NJ","BP","EXXON MOBIL","SHELL OIL","BEST MART","SPEEDWAY","VICTORY MART","LOVE'S COUNTRY","CONOCO - CROSSROAD","EXXON MOBIL","MINOR FOOD MART","SHELL OIL","LOVE'S COUNTRY 00002634 LAWTON, OK","LOVE'S COUNTRY 00002634 LAWTON, OK","CIRCLE K","CORNER STORE","SHELL","LUKOIL 57237 HIGHLAND PARK, NJ S586269862786850","LUKOIL","LUKOIL","LUKOIL 57237 HIGHLAND PARK, NJ S306295826869673","LUKOIL 57237 HIGHLAND PARK, NJ S307088839316717","LUKOIL 57237 HIGHLAND PARK, NJ S466332781700596","LUKOIL 57237 HIGHLAND PARK, NJ","LUKOIL 57237 HIGHLAND PARK, NJ S307088839316717","LUKOIL 57237 HIGHLAND PARK, NJ S306357466438249","LUKOIL 57237 HIGHLAND PARK, NJ S307088839316717","LUKOIL 57237 HIGHLAND PARK, NJ S587026663652225","LUKOIL 57237 HIGHLAND PARK, NJ S307088839316717","LUKOIL 57237 HIGHLAND PARK, NJ S307088839316717","Raceway, 60 Raritan Ave, Highland Park, NJ 08904","LUKOIL 57237 HIGHLAND PARK, NJ S307088839316717","LUKOIL 57237 HIGHLAND PARK, NJ S307088839316717","LUKOIL 57237 HIGHLAND PARK, NJ S307088839316717","LUKOIL 57237 HIGHLAND PARK, NJ S307088839316717","LUKOIL 57237 HIGHLAND PARK, NJ S307088839316717","LUKOIL 57237 HIGHLAND PARK, NJ S307088839316717","EXXON MOBIL 47875372 NEWARK, DE","LUKOIL 57237 HIGHLAND PARK, NJ S307088839316717","LUKOIL 57237 HIGHLAND PARK, NJ S307088839316717","Raceway, 1555 NJ-27, Edison, NJ 08817","Lukoil 702 raritan ave, highland park NJ 08904","Lukoil 702 raritan ave highland park NJ 08904","lukoil 702 raritan ave highland park nj 08904","Lukoil 702 raritan ave highland Park nj 08904","Sunoco 7774 nys route 434 apalachin ny","20 Erie station road west henriet ny","Liberty express 2623 route 715 tannersville pa","lukoil 702 Raritan Avenue Highland Park, NJ 08904","Lukoil 702 Raritan Avenue Highland Park, NJ 08904","Valero 905 Bristol Pike Bristol, PA 19007","Mobil 6000 Shore Parkway Brooklyn, NY 11234"],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,247,null,null,null,248.5,238.9,300.1,265.2,null,null,262,324.1],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,137414,null,null,null,137662,137901,138201,138464,null,null,138726,139050],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,2.859,2.199,2.359,2.039,2.299,2.399,2.519,2.499,2.199,2.199,2.499,2.959],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,17.998,19.378,16.705,19.301,19.575,14.148,16.736,15.761,18.143,19.25,17.536,18.414],[3.79,6.42,45.56,18.12,30,4.19,17.1,19.3,32.67,31.52,19.44,30,25.54,38.4,37.56,40.34,34.93,39.84,39.43,28.51,46.06,49.75,36.43,40.29,35.55,12.95,8.22,33,33.23,27.53,10.58,35.39,23.18,28.9,20,32.95,35.11,22.18,31.38,27.15,4.88,4.67,33.84,4.58,36.89,36.01,36.03,39.35,40,40.19,42.68,41.55,43.89,43.02,40.25,44.5,39.01,2.13,40.67,43.1,42.61,42.8,42.33,39.9,20,43.94,39.41,51.46,42.61,39.41,39.35,45,33.94,42.16,39.39,39.9,42.33,43.82,54.49]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>date<\/th>\n      <th>location<\/th>\n      <th>milesDrivenTank<\/th>\n      <th>milesDrivenTotal<\/th>\n      <th>pricePerGallon<\/th>\n      <th>gallonsPurchased<\/th>\n      <th>totalPrice<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[3,4,5,6,7]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row"}},"evals":[],"jsHooks":[]}</script>
<pre class="r"><code># Total miles driven as a function of time 
gLog %&gt;%
  na.omit() %&gt;%
  ggplot(., aes(x = date, y = milesDrivenTotal, 
                color = monthName, size = milesDrivenTank)) + 
    geom_point() + 
    theme_bw()</code></pre>
<p><img src="index_files/figure-html/plotTotalMiles-1.png" width="960" style="display: block; margin: auto;" /></p>
<pre class="r"><code>gLog %&gt;%
  na.omit() %&gt;%
  ggplot(., aes(x = date, y = milesDrivenTank, color = pricePerGallon)) + 
  geom_point() + 
  theme_bw()</code></pre>
<p><img src="index_files/figure-html/plotTotalMiles-2.png" width="960" style="display: block; margin: auto;" /></p>
<pre class="r"><code>gLog %&gt;%
  na.omit() %&gt;% 
  select(., date, milesDrivenTank, gallonsPurchased) %&gt;%
  mutate(., mpg = milesDrivenTank / gallonsPurchased) %&gt;%
  ggplot(., aes(x = date, y = mpg)) + 
    geom_path() + 
    theme_bw()</code></pre>
<p><img src="index_files/figure-html/myMPG-1.png" width="960" style="display: block; margin: auto;" /></p>
<pre class="r"><code>leaflet(data = gLog, width = 910, height = 500) %&gt;% 
  setView(lat = 36, lng = -88, zoom = 4) %&gt;%
  addTiles() %&gt;%
  addMarkers(~Longitude, ~Latitude, popup = ~as.character(location))</code></pre>
<div id="htmlwidget-192622d78e5b49cec93c" style="width:910px;height:500px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-192622d78e5b49cec93c">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"setView":[[36,-88],4,[]],"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"maxNativeZoom":null,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"continuousWorld":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":null,"unloadInvisibleTiles":null,"updateWhenIdle":null,"detectRetina":false,"reuseTiles":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addMarkers","args":[[32.2364654,44.0027178,44.012139,44.0027178,44.012139,41.4020913,44.0027178,44.0027178,33.117389,32.258025,32.2213006,31.9011614,32.6195025,33.117389,32.221871,32.221871,32.221871,32.149359,31.9011614,32.649536,35.195064,35.9745896,32.221871,32.221871,32.221871,32.2364654,32.2365879,40.5010671,42.417294,30.119498,29.7602374,30.3788465,39.792738,35.3922444,38.723456,32.7512914,30.119498,35.719371,29.7602374,34.7136864,34.7136864,35.1909575,30.2229083,29.759324,40.5010671,39.9605204,39.9605204,40.5010671,39.9605204,40.5010671,40.5010671,39.9605204,40.5010671,39.9605204,40.5010671,39.9605204,39.9605204,40.4978078,39.9605204,39.9605204,40.5010671,39.9605204,39.9605204,39.9605204,40.8288693,39.9605204,39.9605204,40.5070116,40.5010671,40.5010671,40.5010671,40.5010671,42.0595342,43.0409157,41.0417948,40.5010671,40.5010671,40.1083195,40.592264],[-110.9248561,-73.1556335,-73.164289,-73.1556335,-73.164289,-72.8484001,-73.1556335,-73.1556335,-111.848738,-110.960634,-110.9793215,-110.99423,-110.7951058,-111.848738,-110.90054,-110.90054,-110.90054,-110.9100423,-110.99423,-111.393663,-114.074113,-112.124884,-110.90054,-110.90054,-110.90054,-110.9248561,-110.8822692,-74.4220661,-82.9101706,-94.6399409,-95.3654938,-89.0937904,-86.250822,-97.7428365,-104.729262,-99.8973405,-94.6399409,-88.633707,-95.3654938,-98.4016495,-98.4016495,-80.7621614,-92.6546246,-95.367318,-74.4220661,-75.1376991,-75.1376991,-74.4220661,-75.1376991,-74.4220661,-74.4220661,-75.1376991,-74.4220661,-75.1376991,-74.4220661,-75.1376991,-75.1376991,-74.4337849,-75.1376991,-75.1376991,-74.4220661,-75.1376991,-75.1376991,-75.1376991,-73.6475496,-75.1376991,-75.1376991,-74.4143646,-74.4220661,-74.4220661,-74.4220661,-74.4220661,-76.14141,-77.7145794,-75.312419,-74.4220661,-74.4220661,-74.8575735,-73.90813],null,null,null,{"clickable":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["CIRCLE K 02939 TUCSON, AZ","Mobil, 220 Court St, Middlebury, VT 05753","Shell, 25 Court St, Middlebury, VT 05753","Mobil, 220 Court St, Middlebury, VT 05753","Shell, 25 Court St, Middlebury, VT 05753","EXXON MOBIL 97422554 NORTH HAVEN, CT","Mobil, 220 Court St, Middlebury, VT 05753","Mobil, 220 Court St, Middlebury, VT 05753","Shell, 2577 Casa Blanca Rd, Bapchule, AZ 85121","QT 1454 91014548 TUCSON, AZ","CIRCLE K 01985 TUCSON, AZ","SAFEWAY FUEL 10016848 TUCSON, AZ","CIRCLE K 02928 ORACLE, AZ","Shell, 2577 Casa Blanca Rd, Bapchule, AZ 85121","Shell, 4301 E Broadway Blvd, Tucson, AZ 85711","Shell, 4301 E Broadway Blvd, Tucson, AZ 85711","Shell, 4301 E Broadway Blvd, Tucson, AZ 85711","QUIK MART FUEL TUCSON, AZ","SAFEWAY FUEL 10016848 TUCSON, AZ","SHELL OIL PICACHO, AZ","SHELL OIL KINGMAN, AZ","TEXACO 0356205 TUSAYAN, AZ","Shell, 4301 E Broadway Blvd, Tucson, AZ 85711","Shell, 4301 E Broadway Blvd, Tucson, AZ 85711","Shell, 4301 E Broadway Blvd, Tucson, AZ 85711","CIRCLE K 02939 TUCSON, AZ","QT 1452 91014522 TUCSON, AZ","LUKOIL 57237 HIGHLAND PARK, NJ","BP","EXXON MOBIL","SHELL OIL","BEST MART","SPEEDWAY","VICTORY MART","LOVE'S COUNTRY","CONOCO - CROSSROAD","EXXON MOBIL","MINOR FOOD MART","SHELL OIL","LOVE'S COUNTRY 00002634 LAWTON, OK","LOVE'S COUNTRY 00002634 LAWTON, OK","CIRCLE K","CORNER STORE","SHELL","LUKOIL 57237 HIGHLAND PARK, NJ S586269862786850","LUKOIL","LUKOIL","LUKOIL 57237 HIGHLAND PARK, NJ S306295826869673","LUKOIL 57237 HIGHLAND PARK, NJ S307088839316717","LUKOIL 57237 HIGHLAND PARK, NJ S466332781700596","LUKOIL 57237 HIGHLAND PARK, NJ","LUKOIL 57237 HIGHLAND PARK, NJ S307088839316717","LUKOIL 57237 HIGHLAND PARK, NJ S306357466438249","LUKOIL 57237 HIGHLAND PARK, NJ S307088839316717","LUKOIL 57237 HIGHLAND PARK, NJ S587026663652225","LUKOIL 57237 HIGHLAND PARK, NJ S307088839316717","LUKOIL 57237 HIGHLAND PARK, NJ S307088839316717","Raceway, 60 Raritan Ave, Highland Park, NJ 08904","LUKOIL 57237 HIGHLAND PARK, NJ S307088839316717","LUKOIL 57237 HIGHLAND PARK, NJ S307088839316717","LUKOIL 57237 HIGHLAND PARK, NJ S307088839316717","LUKOIL 57237 HIGHLAND PARK, NJ S307088839316717","LUKOIL 57237 HIGHLAND PARK, NJ S307088839316717","LUKOIL 57237 HIGHLAND PARK, NJ S307088839316717","EXXON MOBIL 47875372 NEWARK, DE","LUKOIL 57237 HIGHLAND PARK, NJ S307088839316717","LUKOIL 57237 HIGHLAND PARK, NJ S307088839316717","Raceway, 1555 NJ-27, Edison, NJ 08817","Lukoil 702 raritan ave, highland park NJ 08904","Lukoil 702 raritan ave highland park NJ 08904","lukoil 702 raritan ave highland park nj 08904","Lukoil 702 raritan ave highland Park nj 08904","Sunoco 7774 nys route 434 apalachin ny","20 Erie station road west henriet ny","Liberty express 2623 route 715 tannersville pa","lukoil 702 Raritan Avenue Highland Park, NJ 08904","Lukoil 702 Raritan Avenue Highland Park, NJ 08904","Valero 905 Bristol Pike Bristol, PA 19007","Mobil 6000 Shore Parkway Brooklyn, NY 11234"],null,null,null,null,null,null]}],"limits":{"lat":[29.759324,44.012139],"lng":[-114.074113,-72.8484001]}},"evals":[],"jsHooks":[]}</script>
<pre class="r"><code>usa_center &lt;- as.numeric(geocode(&quot;United States&quot;))</code></pre>
<pre><code>## Information from URL : http://maps.googleapis.com/maps/api/geocode/json?address=United%20States&amp;sensor=false</code></pre>
<pre class="r"><code>USAMap &lt;- get_googlemap(center = usa_center, scale = 1, zoom = 4)</code></pre>
<pre><code>## Map from URL : http://maps.googleapis.com/maps/api/staticmap?center=37.09024,-95.712891&amp;zoom=4&amp;size=640x640&amp;scale=1&amp;maptype=terrain&amp;sensor=false</code></pre>
<pre class="r"><code>ggmap(USAMap, extent = &quot;panel&quot;) + 
  stat_density2d(data = gLog, 
    aes(x = Longitude, y = Latitude, fill=..level.., alpha=..level..),
                              geom = &quot;polygon&quot;, size = 0.01, bins = 10) + 
  scale_fill_gradient(low = &quot;red&quot;, high = &quot;green&quot;) +
  scale_alpha(range = c(0, 0.3), guide = FALSE) + 
  coord_fixed(0.95) + 
  theme_minimal()</code></pre>
<p><img src="index_files/figure-html/plotMapUS2-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>jersey_center &lt;- as.numeric(geocode(&quot;Highland Park, New Jersey&quot;))</code></pre>
<pre><code>## Information from URL : http://maps.googleapis.com/maps/api/geocode/json?address=Highland%20Park,%20New%20Jersey&amp;sensor=false</code></pre>
<pre class="r"><code>NJMap &lt;- get_googlemap(center = jersey_center, scale = 1, zoom = 6)</code></pre>
<pre><code>## Map from URL : http://maps.googleapis.com/maps/api/staticmap?center=40.495938,-74.424318&amp;zoom=6&amp;size=640x640&amp;scale=1&amp;maptype=terrain&amp;sensor=false</code></pre>
<pre class="r"><code>ggmap(NJMap, extent = &quot;panel&quot;) + 
  geom_point(aes(x = Longitude, y = Latitude), data = gLog, 
             col = &quot;blue&quot;, alpha = 0.7, 
             size = gLog$pricePerGallon) + 
  scale_size_continuous(range = range(gLog$pricePerGallon)) +
  coord_fixed(1.1) + 
  theme_minimal()</code></pre>
<p><img src="index_files/figure-html/plotMapNJ1-1.png" width="672" style="display: block; margin: auto;" /></p>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
